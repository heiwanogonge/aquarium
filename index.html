<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>日本の水族館</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            text-align: center;
        }
        header {
            background-color: #4CAF50;
            color: white;
            padding: 1em;
        }
        main {
            margin: 2em;
        }
        #map {
            height: 700px;
            width: 100%;
        }
        #search-bar, #list-search-bar {
            margin-bottom: 1em;
            padding: 0.5em;
            width: 70%;
            font-size: 1em;
        }
        #map-search-button, #list-search-button {
            padding: 0.5em;
            font-size: 1em;
        }
        #aquarium-list {
            margin-top: 2em;
            text-align: left;
            display: inline-block;
            width: 100%;
        }
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
    </style>
</head>
<body>
    <header>
        <h1>日本の水族館</h1>
    </header>
    <main>
        <h2>ようこそ！</h2>
        <p>ここでは日本全国の水族館情報を提供します。</p>
        <input type="text" id="search-bar" placeholder="地図上の水族館を検索">
        <button id="map-search-button">検索</button>
        <div id="map"></div>
        <input type="text" id="list-search-bar" placeholder="リストから水族館を検索">
        <button id="list-search-button">検索</button>
        <div id="aquarium-list">
            <table>
                <thead>
                    <tr>
                        <th>水族館名</th>
                        <th>都道府県</th>
                        <th>Instagram</th>
                        <th>Twitter</th>
                        <th>公式サイト</th>
                    </tr>
                </thead>
                <tbody id="aquarium-table-body">
                    <!-- 水族館データをここに追加 -->
                </tbody>
            </table>
        </div>
    </main>
    <script>
        function initMap() {
            var map = new google.maps.Map(document.getElementById('map'), {
                zoom: 5,
                center: {lat: 35.6895, lng: 139.6917}  // 地図の初期位置を東京に設定
            });

            var aquariums = [
                {"name": "鴨川シーワールド", "lat": 35.113019, "lng": 140.102564, "details": "鴨川シーワールドは千葉県にある大型水族館です。", "prefecture": "千葉県", "instagram": "-", "twitter": "-", "url": "http://www.kamogawa-seaworld.jp/"},
                {"name": "新江ノ島水族館", "lat": 35.311647, "lng": 139.484045, "details": "新江ノ島水族館は神奈川県にあります。", "prefecture": "神奈川県", "instagram": "https://www.instagram.com/enosui_official/", "twitter": "https://twitter.com/enosui_com", "url": "https://www.enosui.com/"},
                {"name": "サンシャイン水族館", "lat": 35.729503, "lng": 139.719409, "details": "サンシャイン水族館は東京都にある都市型水族館です。", "prefecture": "東京都", "instagram": "https://www.instagram.com/sunshineaquarium/", "twitter": "-", "url": "https://sunshinecity.jp/aquarium/"},
                {"name": "大阪海遊館", "lat": 34.654513, "lng": 135.428135, "details": "大阪海遊館は大阪府にある大規模な水族館です。", "prefecture": "大阪府", "instagram": "-", "twitter": "-", "url": "https://www.kaiyukan.com/"},
                {"name": "沖縄美ら海水族館", "lat": 26.694169, "lng": 127.878708, "details": "沖縄美ら海水族館は沖縄県にあります。", "prefecture": "沖縄県", "instagram": "https://www.instagram.com/churaumi_aquarium/", "twitter": "-", "url": "https://churaumi.okinawa/"},
                {"name": "名古屋港水族館", "lat": 35.101779, "lng": 136.884296, "details": "名古屋港水族館は愛知県にあります。", "prefecture": "愛知県", "instagram": "-", "twitter": "-", "url": "http://www.nagoyaaqua.jp/"},
                {"name": "しながわ水族館", "lat": 35.608356, "lng": 139.738824, "details": "しながわ水族館は東京都にあります。", "prefecture": "東京都", "instagram": "-", "twitter": "-", "url": "http://www.aquarium.gr.jp/"},
                {"name": "横浜・八景島シーパラダイス", "lat": 35.337542, "lng": 139.640422, "details": "横浜・八景島シーパラダイスは神奈川県にあるテーマパーク型の水族館です。", "prefecture": "神奈川県", "instagram": "-", "twitter": "-", "url": "http://www.seaparadise.co.jp/"},
                {"name": "海響館", "lat": 33.957666, "lng": 130.941185, "details": "海響館は山口県下関市にあります。", "prefecture": "山口県", "instagram": "-", "twitter": "-", "url": "https://www.kaikyokan.com/"},
                {"name": "鳥羽水族館", "lat": 34.483026, "lng": 136.841957, "details": "鳥羽水族館は三重県にあります。", "prefecture": "三重県", "instagram": "-", "twitter": "-", "url": "https://www.aquarium.co.jp/"},
                {"name": "京都水族館", "lat": 34.987451, "lng": 135.749934, "details": "京都水族館は京都府にあります。", "prefecture": "京都府", "instagram": "-", "twitter": "-", "url": "https://www.kyoto-aquarium.com/"}
            ];

            var infowindow = new google.maps.InfoWindow();
            var markers = [];

            aquariums.forEach(function(aquarium) {
                var marker = new google.maps.Marker({
                    position: {lat: aquarium.lat, lng: aquarium.lng},
                    map: map,
                    title: aquarium.name
                });

                markers.push(marker);

                var contentString = '<div><h2>' + aquarium.name + '</h2><p>' + aquarium.details + '</p><a href="' + aquarium.url + '" target="_blank">公式サイト</a></div>';

                marker.addListener('click', function() {
                    infowindow.setContent(contentString);
                    infowindow.open(map, marker);
                });
            });

            function filterMapMarkers() {
                var searchText = document.getElementById('search-bar').value.toLowerCase();
                markers.forEach(function(marker, index) {
                    var aquarium = aquariums[index];
                    if (aquarium.name.toLowerCase().includes(searchText) || aquarium.prefecture.toLowerCase().includes(searchText)) {
                        marker.setVisible(true);
                    } else {
                        marker.setVisible(false);
                    }
                });
            }

            document.getElementById('map-search-button').addEventListener('click', filterMapMarkers);

            // リスト表示
            var aquariumTableBody = document.getElementById('aquarium-table-body');
            aquariums.forEach(function(aquarium) {
                var row = document.createElement('tr');
                row.innerHTML = `
                    <td>${aquarium.name}</td>
                    <td>${aquarium.prefecture}</td>
                    <td>${aquarium.instagram !== "-" ? `<a href="${aquarium.instagram}" target="_blank">${aquarium.instagram}</a>` : "-"}</td>
                    <td>${aquarium.twitter !== "-" ? `<a href="${aquarium.twitter}" target="_blank">${aquarium.twitter}</a>` : "-"}</td>
                    <td>${aquarium.url !== "-" ? `<a href="${aquarium.url}" target="_blank">${aquarium.url}</a>` : "-"}</td>
                `;
                aquariumTableBody.appendChild(row);
            });

            function filterListItems() {
                var searchText = document.getElementById('list-search-bar').value.toLowerCase();
                var rows = aquariumTableBody.getElementsByTagName('tr');
                Array.from(rows).forEach(function(row) {
                    var cells = row.getElementsByTagName('td');
                    var aquariumName = cells[0].innerText.toLowerCase();
                    var prefecture = cells[1].innerText.toLowerCase();
                    if (aquariumName.includes(searchText) || prefecture.includes(searchText)) {
                        row.style.display = '';
                    } else {
                        row.style.display = 'none';
                    }
                });
            }

            document.getElementById('list-search-button').addEventListener('click', filterListItems);
        }
    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD_M35qC01HD45MkO62v8MORuo_E_OXaq0&callback=initMap" async defer></script>
</body>
</html>
